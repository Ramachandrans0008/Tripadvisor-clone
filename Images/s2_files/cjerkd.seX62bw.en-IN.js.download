(this.$WP=this.$WP||[]).push(["cjerkd",(e,i)=>{var a,n,r,o,s,d,t,l,c,m,u,g,p,h,b,f,_,v,S,T,G,I,M,z,C,w,y,k,H,O,N,j,W,x,D,P,R,q,A,B,$,L,E,F,K,U={iconWrapper:"rjSeK d q",iconWrapperSmall:"ADmrQ d q",iconWrapperMedium:"jOFMI d q _T",connectImg:"VNkBD",connectImgSmall:"uUSkJ",connectImgMedium:"jaoBo _T",icon:"nIvCR d Cj",iconSmall:"gqKUw d Cj",iconMedium:"yNpzT d _T Cj"},Z=["id-ID","ja-JP","zh-TW","th-TH"],J=e=>{var i=H(),r=Z.includes(i),[o]=w(e);return a(W,{variant:"secondary",size:e.size,onClick:e.onClick,fullWidth:!0,...o,children:[n(k,{id:"memx_mw_gating_cta",messages:"Continue with:"})," ",a("div",{className:N({[U.iconWrapperSmall]:"small"===e.fontSize},{[U.iconWrapperMedium]:"medium"===e.fontSize},{[U.iconWrapper]:"large"===e.fontSize}),children:[n(C,{src:e.allBlack?"/img2/google/GoogleG/black.svg":"/img2/google/GoogleG/1color@3x.png",className:N({[U.connectImgSmall]:"small"===e.fontSize},{[U.connectImgMedium]:"medium"===e.fontSize},{[U.connectImg]:"large"===e.fontSize})}),r&&n(C,{src:"/img2/line/line_color_20.png",className:N({[U.connectImgSmall]:"small"===e.fontSize},{[U.connectImgMedium]:"medium"===e.fontSize},{[U.connectImg]:"large"===e.fontSize})}),n("div",{className:N({[U.iconSmall]:"small"===e.fontSize},{[U.iconMedium]:"medium"===e.fontSize},{[U.icon]:"large"===e.fontSize}),children:n(j,{})})]})]})},V=(e,i,a,n)=>`https://tripadvisor.onelink.me/dIWJ?af_dp=${encodeURIComponent(e)}&af_web_dp=${encodeURIComponent(e)}&af_sub1=${i}&af_sub2=true&af_sub3=${a}&pid=website${void 0===n?"":`&c=${n}`}`,Q=e=>{var i=D(),{onClick:o,mcid:s}=e,d=x(),t=P(),{path:l}=p(),[c]=w(e);return a(W,{variant:"secondary",size:"large",fullWidth:!0,onClick:r(()=>{i({module:"app_download",action:"app_download_click",context:d}),o&&o(d)},[o,i,d]),href:A(`https://${t}${l}`,s,d,"GatingExperiment"),...c,children:[n(k,{id:"open_in_the_app",messages:"Open in the app"})," "]})},X={logoset:"w _Z"},Y=e=>{var i,{theme:a}=e;switch(a){case"green":i="/img2/brand_refresh/Tripadvisor_logoset_solid_green.svg";break;case"cream":i="/img2/brand_refresh/Tripadvisor_logoset_solid_cream.svg"}return n(C,{className:X.logoset,src:i,alt:""})},ee=({headline:e,subheadline:i,...r})=>a("div",{className:y(r),children:[n("div",{className:"sHvwv _T d",children:n($,{theme:"green"})}),n(z,{variant:"expressive-display-02",marginTop:"spacing-04",children:e}),n(z,{variant:"body-01",marginTop:"spacing-02",children:i})]}),ei=({onShow:e,onContinueWith:i,onOpenInApp:r,mcid:o})=>{var{localize:s}=O();return n(R,{children:a("div",{ref:I(e),children:[n(L,{headline:s.string("Log in or open in our app","hard_gate_hybrid_header"),subheadline:s.string("Read traveller reviews, plus save and compare your favourite picks.","hard_gate_subheader")}),n(q,{size:"large",onClick:i,fontSize:"medium",marginTop:"spacing-04"}),n(B,{mcid:o,onClick:r,marginTop:"spacing-03"})]})})},ea=()=>{},en=({onShow:e,onDismiss:i,onAutoCancelled:r,onSuccessfulLogin:l,onGeneralSkipDismiss:c,onNotVisible:u,onOneTapHidden:h})=>{var{page:b}=p(),f=g(),{localize:_}=O(),v=I(e),[S,T]=o(null),[G,z]=o(!1),C=er(S),w=s(null);return d(()=>G?(clearTimeout(w.current),()=>{}):(w.current=setTimeout(()=>{!C&&u&&(S?u("hidden"):u("not_mounted"))},3e3),()=>{clearTimeout(w.current)}),[u,S,C,G]),d(()=>{C&&!G?z(!0):!C&&G&&h&&h()},[C,G,z,h]),a(M,{children:[n(t,{children:n(F,{onDismiss:()=>{i&&i(),m(f)},triggerNext:ea,onAutoCancelled:r||ea,enhancedGoogleOneTapGate:!0,servletName:b,suppressContextualMessage:!0,onSuccessfulLogin:l,onGeneralSkipDismiss:c,onIFrameShown:T})}),n("div",{ref:v,children:n(L,{headline:_.string("Log in to unlock your free membership","hard_gate_onetap_header"),subheadline:_.string("Read traveller reviews, plus save and compare your favourite picks.","hard_gate_subheader")})})]})},er=e=>{var[i,a]=o(!1);return d(()=>{if(e instanceof HTMLElement){var i=new IntersectionObserver(([e])=>a(e.isIntersecting));return i.observe(e),()=>{i.disconnect()}}return a(!1),()=>{}},[e]),i},eo=({onLogin:e})=>{var{login:i}=c(),s=g(),{page:d}=p(),{geoId:t,locationId:l}=b(),m=f(),{impressionKey:M}=_(),z=v(),C=S(),w=T(15e3,"MembershipHardGateBounce15s"),y=T(3e4,"MembershipHardGateBounce30s"),[k,H]=o(!u(s)),[O,N]=o(!1),j=I(r(()=>{w(),y()},[w,y])),W=r(()=>{i({flowOrigin:"login",pid:40620,flow:"CORE_COMBINED",isFullWidthMobile:!0,forceLogin:!0,closeX:!1,extraQueryParams:{funnelKey:M,page:d,geo_id:t,detail_id:l,is_dated:m}}).then(e=>{e&&z("MembershipHardGateHybrid",{userId:e.userId,newMember:!!e.hasCreatedMember,source:G(e.loginProvider)},"SuccessLogin",e.userId||void 0)}).finally(e)},[i,e,M,d,t,l,m,z]);return n("div",{ref:j,className:"MmTOI D t _U s l Za f Pk PY Px PK Gg",children:a("div",{className:"KjOWP _Z w f",children:[n("div",{className:"Mbtbi f",children:O&&k&&n(h,{onClick:()=>H(!1)})}),n("div",{className:"ZgpFj f _Z",children:k?n(K,{onShow:()=>{z("MembershipHardGateGOT")},onDismiss:()=>{C("MembershipHardGateGOT","Close"),H(!1)},onAutoCancelled:()=>{C("MembershipHardGateGOT","Close","other"),H(!1)},onSuccessfulLogin:(i,a)=>{z("MembershipHardGateGOT",{userId:a,newMember:i,source:"google"},"SuccessLogin",a),e&&e()},onGeneralSkipDismiss:(e,i)=>{z("MembershipHardGateGOT",{googleOneTapActionType:e,googleOneTapReason:i},"Error")},onNotVisible:e=>{z("MembershipHardGateGOT",{googleOneTapActionType:"not_visible",googleOneTapReason:e},"Error"),H(!1)},onOneTapHidden:()=>{N(!0)}}):n(E,{onShow:()=>{z("MembershipHardGateHybrid")},onContinueWith:()=>{C("MembershipHardGateHybrid","CTA","click","continueWith"),W()},onOpenInApp:e=>{C("MembershipHardGateHybrid","CTA","click","openInTheApp",{downloadId:e})},mcid:65389})})]})})};return[()=>{J.defaultProps={size:"large",fontSize:"large",lightBorder:!1},q=J,A=V,B=Q,$=Y,L=ee,E=ei,F=l(()=>i("j3bsmh")),K=en,e("default",eo)},[e=>(a=e.jsxs,n=e.jsx),e=>(r=e.useCallback,o=e.useState,s=e.useRef,d=e.useEffect,t=e.Suspense,l=e.lazy),e=>c=e.default,e=>(m=e.setRegDialogDismissed,u=e.shouldSuppressRegistrationDialog),e=>g=e.useSessionId,e=>p=e.useRoute,e=>h=e.CloseButton,e=>(b=e.useRouteIds,f=e.useIsDated,_=e.useHardGateContext,v=e.useHardGateImpression,S=e.useHardGateInteraction,T=e.useBounceTracking,G=e.sourceFromLoginProvider),e=>I=e.useOnVisible,e=>M=e.ErrorBoundary,e=>z=e.default,e=>C=e.CdnImage,e=>(w=e.getMarginProps,y=e.margin),e=>(k=e.default,H=e.useLocale,O=e.useLocalize),e=>N=e.default,e=>j=e.default,e=>W=e.default,e=>x=e.uuid,e=>D=e.useGARecorder,e=>P=e.useDomainName,e=>R=e.AutoFocus]]},["21h32l","o4yt4q","rdycz1","cyrz7y","al4vil","fgwvq1","uzmmz7","igyuz7","3btuy0","83pm0d","essqvy","s6q22n","gw8uw6","7thqz4","fkji80","gjtatx","jppfwt","eww825","32pwc7","qlcuu5","2r4qug"]]);
